# Chapter 1: Coding Essentials & Playground Basics

[TOC]

欢迎来到我们的教程 ! 在第一章，你将要学习一些基础知识。你首先将了解代码是怎么工作的。然后你将会了解用编写 Swift 代码所需要的工具。

## How a computer works

如果我这么说，你可能不相信我，但是一台电脑确实是很笨的。电脑的力量是来自程序员所编写的代码。如果你想充分利用一台电脑的力量，我建议你读这本书。了解计算机如何工作是很重要的。

这可能令你感到很惊讶，电脑本身是台相当简单的机器。电脑的心脏是一个中央处理单元（ CPU ） 。这实质上是一个数学机器。它可以执行加法，减法，和其他关于数字的算术运算。当你操作电脑的时候，你看见的所有的东西都是建立在CPU每秒百万次的运算的情况下所得出的。只是一些数字就能做到，是不是很神奇？

 ![Snip20151117_2](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_2.png)

这些数字存储在CPU的一个小的内存单元上，这个内存单元叫做寄存器。CPU能够从计算机的主内存中将数读取到寄存器，被称为随机存取内存 (RAM)。它也能将存储的数字从寄存器读写回RAM中。这允许 CPU 处理大量的数据，避免挤满寄存器的空间。

这里是一个图，描述这是如何工作的:

 ![Snip20151117_1](/Users/lisidi/Desktop/Swift apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_1.png)

CPU 从 RAM 取值到寄存器，它在数学单元中计算这些值，然后将结果存储到另一个寄存器中。

每一次CPU 做加法、 或减法、 读取RAM 或写入RAM，都是执行一条指令。每个计算机程序通常由几千到数百万条指令组成。复杂的计算机程序，比如您的操作系统，Mac OS X (是的这也是一种计算机程序!)，可能有数以百万计的指令。

它是完全有可能编写个体指令来告诉计算机做什么，但对于除了最简单的程序以外的其他所有程序，它是非常耗时的。这是因为大多数计算机程序目的不仅仅是简单的数学计算 — 计算机程序操作图像，让你可以在网上冲浪，让你可以和你的朋友们聊天。

你用一个特定的编程语言来编码，比如说Swift，而不是写个人指令。此代码必须通过编译器转换成 CPU 所能理解的汇编代码。你编写的代码的每一行将转换成许多条指令。

#### Representing numbers

如你所知，数字就是计算机的面包和黄油，工作的根基。无论你传给编译器什么信息，最终将变为数字。例如，每个包含文本块的字符是由数表示的。在第 4 章你会了解更多关于这个，深入了解**strings**，一个文本块的计算机用语。

图像也不例外：在计算机中，每个图像也由一系列数字来表示。一个图像被分割成十万甚至上百万的小块，称为像素。其中每个像素都是纯色。如果你仔细观察你的电脑屏幕上，你可能能够辨认出这些小像素块。也就是说，除非你有一个特别高分辨率显示器，要么你看不见像素，像素是令人难以置信的小！每个纯色像素通常由三个数字表示，红色，绿色，蓝色。例如，一个完全红色的像素将是100 ％R， 0 ％G和0 ％B。

这些CPU所处理的数字与以前那些用的数字是明显不同的。你每天生活中用到的数字是基于10进制的。你使用这种数值系统这么久了，你表面地了解它是如何工作的，现在让我们来深入了解一下，这样以后，你可以更好地体会CPU如何工作的。

这个十进制数423包含三个单元：

 ![Snip20151117_3](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_3.png)

在10进制中，一个数的每个位可以是0 ，1，2 ，3，4 ，5，6 ，7，8或9的值，给出总共10个可能的值。是的，这就是为什么它被称为10进制！

但每位的真正的值取决于它在数中的位置。从右到左，每个位被乘以10。

``` 
(0 * 1000) + (4 * 100) + (2 * 10) + (3 * 1) = 423
```

**Binary numbers**

因为你生活工作基于10进制，你会感觉很自然。但是对于电脑来说，10进制太复杂了！计算机是笨笨的，还记得吗？他们喜欢在二进制下工作。

基于2的运算通常被称为二进制，你之前可能已经听说过。也就是说二进制对于每个位仅仅有2个选项：0或1。

几乎所有的现代计算机都使用二进制，因为在物理层，对于每个位来说最简单的方法的是只处理两个选项。在数字电子电路，电流的通是1和断是0 - 这就是二进制 ！

``` 
注意：现在已经有电脑用三进制。计算机科学家，工程师和专门的黑客不断探索三进制计算机的可能性。见https://en.wikipedia.org/wiki/ Ternary_computer和http://hackaday.com/tag/ternary-computer/ 
```

这是1101二进制的表示:

 ![Snip20151117_4](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_4.png)

在十进制系统中，每个位值得增加是1，10，100，1000等等。这里你可以看到每个位值得增加是 1，2，4，8，16等等。一般的规则是，从右到左乘以2.

``` 
 (1 * 8) + (1 * 4) + (0 * 2) + (1 * 1) = 13
```

十进制的423转换二进制：

``` 
￼(1 * 256) + (1 * 128) + (0 * 64) + (1 * 32) + (0 * 16) + (0 * 8) + (1 *
4) + (1 * 2) + (1 * 1) = 423
```

给每一位二进制数的计算机术语是位。八位组成一个字节。四位叫半字节，一种文字游戏，展示了老计算机科学家教师也有幽默感。![Snip20151117_5](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_5.png)

计算机有限的内存空间意味着它通常只可以处理一定长度的数字。例如，每个寄存器，通常是 32 或 64 位长度，这就是为什么我们说的 32 位和 64 位 CPU。

因此，32 位 CPU 可以处理最大十进制数是 4294967295，二进制数是 11111111111111111111111111111111。

可能需要处理的数字大于CPU所能接受的，这个计算不得不进行拆分，还得用特殊得方式来管理，就像你在上学时的计算长乘法。

**Hexadecimal numbers**

正如你可以想到的，使用二进制数会是相当乏味的，因为打出或键入它们要花很长时间。为此，在计算机编程中我们经常使用另一个称为十六进制或简称为十六进制的数字格式。这是基于16的。

当然，这不是说每一位可以有16个数字来选择; 还是有10个数。但是为了补充，我们还使用了六个字母，a- f。他们是相当的十进制数，如下所示:

- a = 10 
- b = 11 
- c = 12 
- d = 13 
- e = 14 
- f  = 15

这里是一个基于16进制的例子，像以前一样使用相同的格式:

 ![Snip20151117_6](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_6.png)

首先注意到的是，你可以使得16进制数看起来像个单词。这让你可以有一点点小乐趣。: ]

现在的每个位的值都是16的倍数。像以前一样，你可以将数字转换为十进制:

``` 
(12 * 4096) + (0 * 256) + (13 * 16) + (14 * 1) = 49374
```

你转换了字母到相对应的十进制值，然后进行计算。

但是，为什么要这么麻烦呢？

十六进制是很重要的，因为每个十六进制数字可以表示是一个四位二进制数。二进制数 1111就相当于十六进制 f。

例如，考虑上面的数字 c0de：

``` 
c = 1100
0 = 0000
d = 1101
e = 1110
c0de = 1100 0000 1101 1110
```

这原来是相当有用，给出了计算机如何使用长 32 位或 64 位二进制数。还记得最长的 32 位数字是 4294967295。以十六进制格式，它是 **ffffffff**。这更紧凑和清晰。

#### How code works

计算机有很多自我约束，他们只能做少量的事情。计算机程序员搭积木以产生更大的东西。

编码就像写个食谱。你收集资料 (数据)，并把这样的食谱交给计算机，并告诉它们如何使用。

下面是一个示例:

``` 
第 1 步 从硬盘上加载照片。
第 2 步 调整图片大小， 400像素宽 300像素高。
第 3 步 将棕褐色滤镜应用于照片。
第 4 步 打印照片。
```

这就所谓的伪代码。它不是用一个有效的计算机编程语言编写，但它表示出了你想要使用的算法。在这个例子，算法拿到一张照片，调整它的大小、 应用滤镜，然后打印它。这是一种相对简单的算法，但它仍不失为一种算法!

 ![Snip20151117_7](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_7.png)

Swift 代码就是这样: 一步一步的计算机指令。当你通读这本书的过程中，这些指令会变得越来越复杂，但原理是相同的:  你只需告诉计算机要做什么，一次一步。

每种编程语言是都是高级的、 用预定义的方法表达这些步骤。编译器知道如何解释你写的代码，并将其转换成 CPU 可以执行的指令。

有许多不同的编程语言，每一个都有它自己的优点和缺点。Swift 是一种非常现代的语言，只是在发展的早期阶段。它集成了许多其他语言的优点，去除了它们的缺点。几年后，我们也会觉得Swift很老和脆弱。但现在，它是一种非常令人兴奋的语言，因为它也在快速发展。

这是一个在计算机硬件、数字展示编码中的短暂遨游，以及它们是如何协同一起来创建一个现代化程序。这是非常大的知识量以至于可以占用一个章节。现在需要去了解一些编程工具了。

## Playgrounds

你用来写软件的一系列工具，通常被称为**工具链**。工具链的一部分，编写代码的部分，叫做集成开发环境 (IDE)。最常用的编写Swift代码的 IDE 叫做 Xcode，这就是你将要用的工具。

Xcode 有一个很方便的功能，称为**Playground**。可以让你快速地编写和测试代码，而不用建立一个完整的应用程序。所以，在学习本书的过程中你将使用playgrounds练习编码。这是你将在本节剩余部分所要学的：

#### Creating a playground

 ![Snip20151117_8](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_8.png)

如果你看不到这个显示，有可能因为Xcode“ Show this window when Xcode launches " 选项没被选中。您可以Command-Shift-1 或单击 Window\Welcome 。

从欢迎屏幕，你可以快速进入playground，通过单击**Get started with a playground**。现在点击一下， Xcode 将带你到一个新的界面:

 ![Snip20151117_9](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_9.png)

从这里，你可以命名playground上并选择你所需要的平台。名称是只是装饰，供你自己使用;  当你创建你的playground，自由地选择名称，将会帮助你记住它们。例如，当您正在阅读第二章时，你可能想要命名你的playground为Chapter2。

这里你可以看到的第二个选项是平台。目前，这可以选得是 **iOS** 或 **Mac**。

每个平台都有它自己的环境设置。对于这本书的目的，选择你希望为准，因为你将来不只会在特定的平台使用特定的语言。你需要学习的是Swift的语言的核心思想!

一旦你选择了名字和平台，点击Next，然后保存playground。Xcode 呈现你眼前playground，像这样:

  ![Snip20151117_11](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_11.png)

新操场开始时不是空的，有一些基本的代码。别担心 — 你会很快学会此代码的含义。

#### Playgrounds overview

乍一看，一个playground可能看起来像一个很奇特的文本编辑器。嗯，这里是一些消息要告诉你: 就是这个，哈哈!

![Snip20151117_10](/Users/lisidi/Desktop/Swift Apprentice CN/Chapter 1: Coding Essentials & Playground Basics/resource/Snip20151117_10.png)

下面的截图突出显示了第一个和最重要的事情，要知道: 

1 **Sourceeditor**这是你写代码的区域。

2 **Resultssidebar**显示结果的地方。

3 **Executioncontrol** 代码运行。

4 **Activityviewer** playground运行状态。

5 **Panelcontrols**隐藏3个区域的面板

Playgrounds在源代码编辑器中从上到下执行代码。每次您更改代码，Playgrounds将重新执行所有。

## Key points

- 计算机在其最基本的层级上执行的是简单数学计算。
- 一种编程语言允许您编写高级语言代码，编译器将高级语言代码转换成 CPU 可以执行的指令。
- 计算机操作基于2，或者称为二进制格式。
- 用来编写 Swift 代码编辑器叫做 Xcode。
- playgrounds可以快速高效地帮你编写和测试 Swift 代码， 提供代码执行的即时反馈，

## Where to go from here?

如果你没这么做过，为自己打开 Xcode 并创建第一个playground。给它起个名字 Chapter02 并且使用 iOS 平台。将其保存到您的硬盘，打开playground。

现在，一切搞定打开了，你要进入下一篇了!